# 🔧 EORA AI 환경변수 설정 방법

## 📋 필요한 환경변수들

### 🔑 OpenAI API 키 (필수)
```bash
OPENAI_API_KEY=sk-proj-your-actual-openai-api-key-here
```

### 🗄️ MongoDB 연결 (선택사항 - 없으면 로컬 파일 사용)
```bash
MONGODB_URI=mongodb://localhost:27017
DATABASE_NAME=eora_ai
```

### ⚙️ 기타 설정
```bash
DEFAULT_POINTS=100000
GPT_MODEL=gpt-4o-mini
MAX_TOKENS=2048
TEMPERATURE=0.7
```

## 🏠 로컬 환경 설정 방법

### 방법 1: .env 파일 생성 (권장)
1. `src/` 폴더에 `.env` 파일 생성
2. 위의 환경변수들을 `.env` 파일에 복사
3. `your-actual-openai-api-key-here`를 실제 API 키로 교체

### 방법 2: 시스템 환경변수 설정
**Windows:**
```cmd
set OPENAI_API_KEY=sk-proj-your-actual-key
```

**Linux/Mac:**
```bash
export OPENAI_API_KEY=sk-proj-your-actual-key
```

## 🚂 레일웨이 환경 설정 방법

1. Railway Dashboard 접속
2. 프로젝트 선택
3. Variables 탭 클릭
4. 다음 환경변수들 추가:

```
OPENAI_API_KEY=sk-proj-your-actual-key
OPENAI_API_KEY_1=sk-proj-backup-key-1
OPENAI_API_KEY_2=sk-proj-backup-key-2
MONGODB_URL=mongodb://mongo:password@host:port
DATABASE_NAME=eora_ai
DEFAULT_POINTS=100000
GPT_MODEL=gpt-4o
```

## 🔍 API 키 확인 방법

다음 명령어로 API 키가 제대로 설정되었는지 확인:

```bash
python test_railway_api_connection.py
```

## 🎯 성공적인 설정 예시

환경변수가 올바르게 설정되면 다음과 같은 출력이 나타납니다:

```
✅ OPENAI_API_KEY: 유효한 키 발견 (sk-...xxxxx)
✅ OpenAI API 연결 성공!
🤖 AI 응답: 안녕하세요! 연결이 정상적으로 작동합니다.
```

## ⚠️ 보안 주의사항

1. **API 키를 절대 Git에 커밋하지 마세요**
2. **`.env` 파일은 `.gitignore`에 포함되어 있습니다**
3. **API 키는 OpenAI 대시보드에서 생성하세요**
4. **사용하지 않는 키는 즉시 삭제하세요**

## 🆘 문제 해결

### "API 키를 찾을 수 없습니다" 오류
1. 환경변수 이름이 정확한지 확인
2. API 키가 `sk-`로 시작하는지 확인
3. API 키 길이가 충분한지 확인 (50자 이상)

### "MongoDB 연결 실패" 오류
1. MongoDB가 실행 중인지 확인
2. 연결 URL이 정확한지 확인
3. MongoDB 없이도 로컬 파일로 작동 가능